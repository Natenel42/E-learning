{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/hp/Documents/ALX/E-learning/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { __decorate } from \"tslib\";\nimport { Injectable } from '@angular/core';\nimport { firstValueFrom } from 'rxjs';\nlet AppService = class AppService {\n  constructor(router, afAuth, db, afs, auth) {\n    this.router = router;\n    this.afAuth = afAuth;\n    this.db = db;\n    this.afs = afs;\n    this.auth = auth;\n    this.Programs = ['Degree', 'Diploma'];\n    this.Courses = ['Complexity', 'Intoduction to Computer Science', 'Object Oriented Programming', 'Operating Systems'];\n    this.auth.authState.subscribe(auth => {\n      this.signedUser = auth;\n    });\n    this.afs.collection('Departments').valueChanges().subscribe(r => {\n      this.Departments = [];\n      for (const departmt of r) {\n        console.log(departmt);\n        this.Departments.push(departmt);\n      }\n    });\n  }\n  loggedInUser() {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      return yield firstValueFrom(_this.afAuth.authState.pipe());\n    })();\n  }\n  signOut() {\n    this.currentUser = undefined;\n    this.auth.signOut();\n    this.router.navigateByUrl(`/home`);\n  }\n};\nAppService = __decorate([Injectable({\n  providedIn: 'root'\n})], AppService);\nexport { AppService };","map":{"version":3,"mappings":";;AAAA,SAASA,UAAU,QAAQ,eAAe;AAK1C,SAASC,cAAc,QAAQ,MAAM;AAK9B,IAAMC,UAAU,GAAhB,MAAMA,UAAU;EAKrBC,YACSC,MAAc,EACdC,MAAuB,EACvBC,EAAuB,EACtBC,GAAqB,EACtBC,IAAqB;IAJrB,WAAM,GAANJ,MAAM;IACN,WAAM,GAANC,MAAM;IACN,OAAE,GAAFC,EAAE;IACD,QAAG,GAAHC,GAAG;IACJ,SAAI,GAAJC,IAAI;IA4Bb,aAAQ,GAAG,CAAC,QAAQ,EAAC,SAAS,CAAC;IAC/B,YAAO,GAAG,CAAC,YAAY,EAAE,iCAAiC,EAAE,6BAA6B,EAAE,mBAAmB,CAAC;IA3B7G,IAAI,CAACA,IAAI,CAACC,SAAS,CAACC,SAAS,CAAEF,IAAS,IAAI;MAC1C,IAAI,CAACG,UAAU,GAAGH,IAAI;IACxB,CAAC,CAAC;IAEF,IAAI,CAACD,GAAG,CACLK,UAAU,CAAC,aAAa,CAAC,CACzBC,YAAY,EAAE,CACdH,SAAS,CAAEI,CAAO,IAAI;MACrB,IAAI,CAACC,WAAW,GAAG,EAAE;MACrB,KAAK,MAAMC,QAAQ,IAAIF,CAAC,EAAE;QACxBG,OAAO,CAACC,GAAG,CAACF,QAAQ,CAAC;QACrB,IAAI,CAACD,WAAW,CAACI,IAAI,CAACH,QAAQ,CAAC;;IAEnC,CAAC,CAAC;EACN;EAEMI,YAAY;IAAA;IAAA;MAChB,aAAanB,cAAc,CAAC,KAAI,CAACI,MAAM,CAACI,SAAS,CAACY,IAAI,EAAE,CAAC;IAAC;EAC5D;EAEAC,OAAO;IACL,IAAI,CAACC,WAAW,GAAGC,SAAS;IAC5B,IAAI,CAAChB,IAAI,CAACc,OAAO,EAAE;IACnB,IAAI,CAAClB,MAAM,CAACqB,aAAa,CAAC,OAAO,CAAC;EACpC;CAID;AAxCYvB,UAAU,eAHtBF,UAAU,CAAC;EACV0B,UAAU,EAAE;CACb,CAAC,GACWxB,UAAU,CAwCtB;SAxCYA,UAAU","names":["Injectable","firstValueFrom","AppService","constructor","router","afAuth","db","afs","auth","authState","subscribe","signedUser","collection","valueChanges","r","Departments","departmt","console","log","push","loggedInUser","pipe","signOut","currentUser","undefined","navigateByUrl","providedIn"],"sourceRoot":"","sources":["C:\\Users\\hp\\Documents\\ALX\\E-learning\\src\\app\\services\\app.service.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { AngularFirestore } from '@angular/fire/compat/firestore';\r\nimport { AngularFireAuth } from '@angular/fire/compat/auth';\r\nimport { AngularFireDatabase } from '@angular/fire/compat/database';\r\nimport { firstValueFrom } from 'rxjs';\r\n\r\n@Injectable({\r\n  providedIn: 'root',\r\n})\r\nexport class AppService {\r\n  signedUser: any;\r\n  currentUser:any;\r\n  Departments:any;\r\n\r\n  constructor(\r\n    public router: Router,\r\n    public afAuth: AngularFireAuth,\r\n    public db: AngularFireDatabase,\r\n    private afs: AngularFirestore,\r\n    public auth: AngularFireAuth\r\n  ) {\r\n    this.auth.authState.subscribe((auth: any) => {\r\n      this.signedUser = auth;\r\n    });\r\n\r\n    this.afs\r\n      .collection('Departments')\r\n      .valueChanges()\r\n      .subscribe((r:any[]) => {\r\n        this.Departments = [];\r\n        for (const departmt of r) {\r\n          console.log(departmt)\r\n          this.Departments.push(departmt);\r\n        }\r\n      });\r\n  }\r\n\r\n  async loggedInUser() {\r\n    return await firstValueFrom(this.afAuth.authState.pipe());\r\n  }\r\n\r\n  signOut() {\r\n    this.currentUser = undefined;\r\n    this.auth.signOut();\r\n    this.router.navigateByUrl(`/home`);\r\n  }\r\n\r\n  Programs = ['Degree','Diploma']\r\n  Courses = ['Complexity', 'Intoduction to Computer Science', 'Object Oriented Programming', 'Operating Systems']\r\n}\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}