{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/hp/Documents/ALX/E-learning/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nlet PostScheduleComponent = class PostScheduleComponent {\n  constructor(afs, appService, toastr) {\n    this.afs = afs;\n    this.appService = appService;\n    this.toastr = toastr;\n    this.schedule = {};\n  }\n  ngOnInit() {}\n  postSchedule() {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      if (_this.weekStartDate === undefined || new Date(_this.weekStartDate).getDay() !== 1) {\n        _this.toastr.error('Please select \"Monday\" as week start date.');\n        return;\n      }\n      if (_this.department === undefined) {\n        _this.toastr.error('Please select \"Department\"');\n        return;\n      }\n      yield _this.afs.collection('Schedules').add({\n        ..._this.schedule,\n        department: _this.department,\n        weekStartDate: _this.weekStartDate\n      });\n      _this.toastr.success('Schedule posted succesfully');\n    })();\n  }\n};\nPostScheduleComponent = __decorate([Component({\n  selector: 'app-post-schedule',\n  templateUrl: './post-schedule.component.html',\n  styleUrls: ['./post-schedule.component.scss']\n})], PostScheduleComponent);\nexport { PostScheduleComponent };","map":{"version":3,"mappings":";;AAAA,SAASA,SAAS,QAAgB,eAAe;AAU1C,IAAMC,qBAAqB,GAA3B,MAAMA,qBAAqB;EAMhCC,YACUC,GAAqB,EACtBC,UAAsB,EACtBC,MAAqB;IAFpB,QAAG,GAAHF,GAAG;IACJ,eAAU,GAAVC,UAAU;IACV,WAAM,GAANC,MAAM;IARf,aAAQ,GAAQ,EAAE;EASf;EAEHC,QAAQ,IAAU;EAEZC,YAAY;IAAA;IAAA;MAChB,IACE,KAAI,CAACC,aAAa,KAAKC,SAAS,IAChC,IAAIC,IAAI,CAAC,KAAI,CAACF,aAAa,CAAC,CAACG,MAAM,EAAE,KAAK,CAAC,EAC3C;QACA,KAAI,CAACN,MAAM,CAACO,KAAK,CAAC,4CAA4C,CAAC;QAC/D;;MAEF,IAAI,KAAI,CAACC,UAAU,KAAKJ,SAAS,EAAE;QACjC,KAAI,CAACJ,MAAM,CAACO,KAAK,CAAC,4BAA4B,CAAC;QAC/C;;MAGF,MAAM,KAAI,CAACT,GAAG,CACXW,UAAU,CAAC,WAAW,CAAC,CACvBC,GAAG,CAAC;QACH,GAAG,KAAI,CAACC,QAAQ;QAChBH,UAAU,EAAE,KAAI,CAACA,UAAU;QAC3BL,aAAa,EAAE,KAAI,CAACA;OACrB,CAAC;MAEJ,KAAI,CAACH,MAAM,CAACY,OAAO,CAAC,6BAA6B,CAAC;IAAC;EACrD;CACD;AArCYhB,qBAAqB,eALjCD,SAAS,CAAC;EACTkB,QAAQ,EAAE,mBAAmB;EAC7BC,WAAW,EAAE,gCAAgC;EAC7CC,SAAS,EAAE,CAAC,gCAAgC;CAC7C,CAAC,GACWnB,qBAAqB,CAqCjC;SArCYA,qBAAqB","names":["Component","PostScheduleComponent","constructor","afs","appService","toastr","ngOnInit","postSchedule","weekStartDate","undefined","Date","getDay","error","department","collection","add","schedule","success","selector","templateUrl","styleUrls"],"sourceRoot":"","sources":["C:\\Users\\hp\\Documents\\ALX\\E-learning\\src\\app\\admin\\post-schedule\\post-schedule.component.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { AngularFirestore } from '@angular/fire/compat/firestore';\nimport { ToastrService } from 'ngx-toastr';\nimport { AppService } from 'src/app/services/app.service';\n\n@Component({\n  selector: 'app-post-schedule',\n  templateUrl: './post-schedule.component.html',\n  styleUrls: ['./post-schedule.component.scss'],\n})\nexport class PostScheduleComponent implements OnInit {\n  schedule: any = {};\n  weekStartDate: any;\n  department: any;\n  busy: any;\n\n  constructor(\n    private afs: AngularFirestore,\n    public appService: AppService,\n    public toastr: ToastrService\n  ) {}\n\n  ngOnInit(): void {}\n\n  async postSchedule() {\n    if (\n      this.weekStartDate === undefined ||\n      new Date(this.weekStartDate).getDay() !== 1\n    ) {\n      this.toastr.error('Please select \"Monday\" as week start date.');\n      return;\n    }\n    if (this.department === undefined) {\n      this.toastr.error('Please select \"Department\"');\n      return;\n    }\n\n    await this.afs\n      .collection('Schedules')\n      .add({\n        ...this.schedule,\n        department: this.department,\n        weekStartDate: this.weekStartDate,\n      });\n\n    this.toastr.success('Schedule posted succesfully');\n  }\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}