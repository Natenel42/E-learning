{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/hp/Documents/ALX/E-learning/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nlet AddAnnouncementComponent = class AddAnnouncementComponent {\n  constructor(afs, toastr) {\n    this.afs = afs;\n    this.toastr = toastr;\n    this.busy = false;\n  }\n  ngOnInit() {}\n  postAnnouncement() {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      if (_this.message === undefined) {\n        _this.toastr.error('Please enter message to post');\n        return;\n      }\n      if (_this.addressedTo === undefined) {\n        _this.toastr.error('Please enter \"Addressed To\"');\n        return;\n      }\n      if (_this.announceUntil === undefined) {\n        _this.toastr.error('Please enter date');\n        return;\n      }\n      //Adds the announcement to Announcements collection in our firebase database-equivalent to insert statement in SQL\n      yield _this.afs.collection('Announcements').add({\n        message: _this.message,\n        announceUntil: _this.announceUntil,\n        announcedOn: new Date().toDateString(),\n        addressedTo: _this.addressedTo,\n        addressedFrom: _this.addressedFrom\n      });\n      _this.toastr.success('Announcement posted succesfully');\n    })();\n  }\n};\nAddAnnouncementComponent = __decorate([Component({\n  selector: 'app-add-announcement',\n  templateUrl: './add-announcement.component.html',\n  styleUrls: ['./add-announcement.component.scss']\n})], AddAnnouncementComponent);\nexport { AddAnnouncementComponent };","map":{"version":3,"mappings":";;AAAA,SAASA,SAAS,QAAgB,eAAe;AAS1C,IAAMC,wBAAwB,GAA9B,MAAMA,wBAAwB;EACnCC,YAAoBC,GAAqB,EAAUC,MAAqB;IAApD,QAAG,GAAHD,GAAG;IAA4B,WAAM,GAANC,MAAM;IACzD,SAAI,GAAG,KAAK;EAD+D;EAO3EC,QAAQ,IAAU;EAEZC,gBAAgB;IAAA;IAAA;MACpB,IAAI,KAAI,CAACC,OAAO,KAAKC,SAAS,EAAE;QAC9B,KAAI,CAACJ,MAAM,CAACK,KAAK,CAAC,8BAA8B,CAAC;QACjD;;MAEF,IAAI,KAAI,CAACC,WAAW,KAAKF,SAAS,EAAE;QAClC,KAAI,CAACJ,MAAM,CAACK,KAAK,CAAC,6BAA6B,CAAC;QAChD;;MAEF,IAAI,KAAI,CAACE,aAAa,KAAKH,SAAS,EAAE;QACpC,KAAI,CAACJ,MAAM,CAACK,KAAK,CAAC,mBAAmB,CAAC;QACtC;;MAGF;MACA,MAAM,KAAI,CAACN,GAAG,CAACS,UAAU,CAAC,eAAe,CAAC,CAACC,GAAG,CAAC;QAC7CN,OAAO,EAAE,KAAI,CAACA,OAAO;QACrBI,aAAa,EAAE,KAAI,CAACA,aAAa;QACjCG,WAAW,EAAE,IAAIC,IAAI,EAAE,CAACC,YAAY,EAAE;QACtCN,WAAW,EAAG,KAAI,CAACA,WAAW;QAC9BO,aAAa,EAAE,KAAI,CAACA;OACrB,CAAC;MAEF,KAAI,CAACb,MAAM,CAACc,OAAO,CAAC,iCAAiC,CAAC;IAAC;EACzD;CACD;AAnCYjB,wBAAwB,eALpCD,SAAS,CAAC;EACTmB,QAAQ,EAAE,sBAAsB;EAChCC,WAAW,EAAE,mCAAmC;EAChDC,SAAS,EAAE,CAAC,mCAAmC;CAChD,CAAC,GACWpB,wBAAwB,CAmCpC;SAnCYA,wBAAwB","names":["Component","AddAnnouncementComponent","constructor","afs","toastr","ngOnInit","postAnnouncement","message","undefined","error","addressedTo","announceUntil","collection","add","announcedOn","Date","toDateString","addressedFrom","success","selector","templateUrl","styleUrls"],"sourceRoot":"","sources":["C:\\Users\\hp\\Documents\\ALX\\E-learning\\src\\app\\admin\\add-announcement\\add-announcement.component.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { AngularFirestore } from '@angular/fire/compat/firestore';\nimport { ToastrService } from 'ngx-toastr';\n\n@Component({\n  selector: 'app-add-announcement',\n  templateUrl: './add-announcement.component.html',\n  styleUrls: ['./add-announcement.component.scss'],\n})\nexport class AddAnnouncementComponent implements OnInit {\n  constructor(private afs: AngularFirestore, private toastr: ToastrService) {}\n  busy = false;\n  announceUntil: any;\n  message: any;\n  addressedTo:any;\n  addressedFrom:any;\n\n  ngOnInit(): void {}\n\n  async postAnnouncement() {\n    if (this.message === undefined) {\n      this.toastr.error('Please enter message to post');\n      return;\n    }\n    if (this.addressedTo === undefined) {\n      this.toastr.error('Please enter \"Addressed To\"');\n      return;\n    }\n    if (this.announceUntil === undefined) {\n      this.toastr.error('Please enter date');\n      return;\n    }\n\n    //Adds the announcement to Announcements collection in our firebase database-equivalent to insert statement in SQL\n    await this.afs.collection('Announcements').add({\n      message: this.message,\n      announceUntil: this.announceUntil,\n      announcedOn: new Date().toDateString(),\n      addressedTo : this.addressedTo,\n      addressedFrom: this.addressedFrom\n    });\n\n    this.toastr.success('Announcement posted succesfully');\n  }\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}