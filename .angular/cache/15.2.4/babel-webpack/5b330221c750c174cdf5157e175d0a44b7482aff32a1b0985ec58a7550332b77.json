{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/hp/Documents/ALX/E-learning/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { firstValueFrom } from 'rxjs';\nlet RegisterLecturerComponent = class RegisterLecturerComponent {\n  ngOnInit() {}\n  constructor(router, toastr, appService, backendService) {\n    this.router = router;\n    this.toastr = toastr;\n    this.appService = appService;\n    this.backendService = backendService;\n    this.busy = false;\n  }\n  registerUserwithEmailPassword() {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      try {\n        if (_this.emailAddress === undefined) throw 'Please Enter Email Address';\n        if (_this.password === undefined) throw 'Please Enter Password';else if (_this.password.length < 6) throw 'Password too short. Minimum is 6 characters.';else if (_this.password !== _this.confirm_password) throw \"Passwords don't match.\";\n      } catch (msg) {\n        _this.toastr.warning(msg);\n        return;\n      }\n      _this.busy = true;\n      try {\n        const lecturer = {\n          firstName: _this.firstName,\n          middleName: _this.middleName,\n          lastName: _this.lastName,\n          birthDate: _this.birthDate,\n          emailAddress: _this.emailAddress,\n          department: _this.department,\n          course: _this.course,\n          password: _this.password\n        };\n        const registerLecturer = _this.backendService.httpsCallable('registerLecturer');\n        const registerResult = yield firstValueFrom(registerLecturer(lecturer));\n        if (registerResult?.error) {\n          throw new Error(registerResult.error);\n        }\n        _this.toastr.success('Lecturer Registered');\n        _this.busy = false;\n      } catch (err) {\n        let errMsg = 'Incorrect Information Provided';\n        if (err.code === 'auth/email-already-in-use') errMsg = 'You already have account, please Login';else if (err.code === 'auth/invalid-email') errMsg = 'Email Address is Invalid';else if (err.code === 'auth/user-not-found') errMsg = \"You don't have account with us. Please Register!\";\n        _this.toastr.warning(errMsg);\n        _this.busy = false;\n      }\n    })();\n  }\n};\nRegisterLecturerComponent = __decorate([Component({\n  selector: 'app-register-lecturer',\n  templateUrl: './register-lecturer.component.html',\n  styleUrls: ['./register-lecturer.component.scss']\n})], RegisterLecturerComponent);\nexport { RegisterLecturerComponent };","map":{"version":3,"mappings":";;AAAA,SAASA,SAAS,QAAgB,eAAe;AAOjD,SAASC,cAAc,QAAQ,MAAM;AAO9B,IAAMC,yBAAyB,GAA/B,MAAMA,yBAAyB;EAapCC,QAAQ,IAAI;EAEZC,YACSC,MAAc,EACdC,MAAqB,EACrBC,UAAsB,EACrBC,cAAoC;IAHrC,WAAM,GAANH,MAAM;IACN,WAAM,GAANC,MAAM;IACN,eAAU,GAAVC,UAAU;IACT,mBAAc,GAAdC,cAAc;IARxB,SAAI,GAAG,KAAK;EAST;EAEGC,6BAA6B;IAAA;IAAA;MACjC,IAAI;QACF,IAAI,KAAI,CAACC,YAAY,KAAKC,SAAS,EAAE,MAAM,4BAA4B;QACvE,IAAI,KAAI,CAACC,QAAQ,KAAKD,SAAS,EAAE,MAAM,uBAAuB,CAAC,KAC1D,IAAI,KAAI,CAACC,QAAQ,CAACC,MAAM,GAAG,CAAC,EAC/B,MAAM,8CAA8C,CAAC,KAClD,IAAI,KAAI,CAACD,QAAQ,KAAK,KAAI,CAACE,gBAAgB,EAC9C,MAAM,wBAAwB;OACjC,CAAC,OAAOC,GAAQ,EAAE;QACjB,KAAI,CAACT,MAAM,CAACU,OAAO,CAACD,GAAG,CAAC;QACxB;;MAGF,KAAI,CAACE,IAAI,GAAG,IAAI;MAChB,IAAI;QACF,MAAMC,QAAQ,GAAG;UACfC,SAAS,EAAE,KAAI,CAACA,SAAS;UACzBC,UAAU,EAAE,KAAI,CAACA,UAAU;UAC3BC,QAAQ,EAAE,KAAI,CAACA,QAAQ;UACvBC,SAAS,EAAE,KAAI,CAACA,SAAS;UACzBZ,YAAY,EAAE,KAAI,CAACA,YAAY;UAC/Ba,UAAU,EAAE,KAAI,CAACA,UAAU;UAC3BC,MAAM,EAAE,KAAI,CAACA,MAAM;UACnBZ,QAAQ,EAAC,KAAI,CAACA;SACf;QAED,MAAMa,gBAAgB,GAAG,KAAI,CAACjB,cAAc,CAACkB,aAAa,CAAC,kBAAkB,CAAC;QAC9E,MAAMC,cAAc,SAAS1B,cAAc,CAACwB,gBAAgB,CAACP,QAAQ,CAAC,CAAC;QAEvE,IAAIS,cAAc,EAAEC,KAAK,EAAE;UACzB,MAAM,IAAIC,KAAK,CAACF,cAAc,CAACC,KAAK,CAAC;;QAEvC,KAAI,CAACtB,MAAM,CAACwB,OAAO,CAAC,qBAAqB,CAAC;QAC1C,KAAI,CAACb,IAAI,GAAG,KAAK;OAClB,CAAC,OAAOc,GAAQ,EAAE;QACjB,IAAIC,MAAM,GAAG,gCAAgC;QAC7C,IAAID,GAAG,CAACE,IAAI,KAAK,2BAA2B,EAC1CD,MAAM,GAAG,wCAAwC,CAAC,KAC/C,IAAID,GAAG,CAACE,IAAI,KAAK,oBAAoB,EACxCD,MAAM,GAAG,0BAA0B,CAAC,KACjC,IAAID,GAAG,CAACE,IAAI,KAAK,qBAAqB,EACzCD,MAAM,GAAG,kDAAkD;QAE7D,KAAI,CAAC1B,MAAM,CAACU,OAAO,CAACgB,MAAM,CAAC;QAE3B,KAAI,CAACf,IAAI,GAAG,KAAK;;IAClB;EACH;CACD;AAtEYf,yBAAyB,eALrCF,SAAS,CAAC;EACTkC,QAAQ,EAAE,uBAAuB;EACjCC,WAAW,EAAE,oCAAoC;EACjDC,SAAS,EAAE,CAAC,oCAAoC;CACjD,CAAC,GACWlC,yBAAyB,CAsErC;SAtEYA,yBAAyB","names":["Component","firstValueFrom","RegisterLecturerComponent","ngOnInit","constructor","router","toastr","appService","backendService","registerUserwithEmailPassword","emailAddress","undefined","password","length","confirm_password","msg","warning","busy","lecturer","firstName","middleName","lastName","birthDate","department","course","registerLecturer","httpsCallable","registerResult","error","Error","success","err","errMsg","code","selector","templateUrl","styleUrls"],"sourceRoot":"","sources":["C:\\Users\\hp\\Documents\\ALX\\E-learning\\src\\app\\admin\\register-lecturer\\register-lecturer.component.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { AngularFireAuth } from '@angular/fire/compat/auth';\nimport { AngularFirestore } from '@angular/fire/compat/firestore';\nimport { Router } from '@angular/router';\nimport { ToastrService } from 'ngx-toastr';\nimport { AppService } from 'src/app/services/app.service';\nimport { AngularFireFunctions } from '@angular/fire/compat/functions';\nimport { firstValueFrom } from 'rxjs';\n\n@Component({\n  selector: 'app-register-lecturer',\n  templateUrl: './register-lecturer.component.html',\n  styleUrls: ['./register-lecturer.component.scss']\n})\nexport class RegisterLecturerComponent implements OnInit {\n  firstName: any;\n  middleName: any;\n  lastName: any;\n  emailAddress: any;\n  password: any;\n  confirm_password: any;\n  birthDate: any;\n  department:any;\n  course:any;\n\n  busy = false;\n\n  ngOnInit() {}\n\n  constructor(\n    public router: Router,\n    public toastr: ToastrService,\n    public appService: AppService,\n    private backendService: AngularFireFunctions\n  ) {}\n\n  async registerUserwithEmailPassword() {\n    try {\n      if (this.emailAddress === undefined) throw 'Please Enter Email Address';\n      if (this.password === undefined) throw 'Please Enter Password';\n      else if (this.password.length < 6)\n        throw 'Password too short. Minimum is 6 characters.';\n      else if (this.password !== this.confirm_password)\n        throw \"Passwords don't match.\";\n    } catch (msg: any) {\n      this.toastr.warning(msg);\n      return;\n    }\n\n    this.busy = true;\n    try {\n      const lecturer = {\n        firstName: this.firstName,\n        middleName: this.middleName,\n        lastName: this.lastName,\n        birthDate: this.birthDate,\n        emailAddress: this.emailAddress,\n        department: this.department,\n        course: this.course,\n        password:this.password\n      };\n\n      const registerLecturer = this.backendService.httpsCallable('registerLecturer');\n      const registerResult = await firstValueFrom(registerLecturer(lecturer));\n  \n      if (registerResult?.error) {\n        throw new Error(registerResult.error);\n      }\n      this.toastr.success('Lecturer Registered');\n      this.busy = false;\n    } catch (err: any) {\n      let errMsg = 'Incorrect Information Provided';\n      if (err.code === 'auth/email-already-in-use')\n        errMsg = 'You already have account, please Login';\n      else if (err.code === 'auth/invalid-email')\n        errMsg = 'Email Address is Invalid';\n      else if (err.code === 'auth/user-not-found')\n        errMsg = \"You don't have account with us. Please Register!\";\n\n      this.toastr.warning(errMsg);\n\n      this.busy = false;\n    }\n  }\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}