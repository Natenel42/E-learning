{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/hp/Documents/ALX/E-learning/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nlet ScheduleComponent = class ScheduleComponent {\n  constructor(afs, toastr) {\n    this.afs = afs;\n    this.toastr = toastr;\n  }\n  ngOnInit() {}\n  loadWeeklySchedule() {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      _this.schedule = undefined;\n      yield _this.afs.collection('Schedules', ref => ref.where('weekStartDate', '==', _this.weekStartDate)).get().subscribe(schedulesDoc => {\n        if (schedulesDoc.size > 0) {\n          _this.schedule = schedulesDoc.docs[0].data();\n        } else {\n          _this.schedule = null;\n        }\n      });\n    })();\n  }\n  onDateChange(date) {\n    if (new Date(date).getDay() !== 1) {\n      this.toastr.error('Please select \"Monday\" as week start date.');\n      return;\n    }\n    this.loadWeeklySchedule();\n  }\n};\nScheduleComponent = __decorate([Component({\n  selector: 'app-schedule',\n  templateUrl: './schedule.component.html',\n  styleUrls: ['./schedule.component.scss']\n})], ScheduleComponent);\nexport { ScheduleComponent };","map":{"version":3,"mappings":";;AAAA,SAASA,SAAS,QAAgB,eAAe;AAS1C,IAAMC,iBAAiB,GAAvB,MAAMA,iBAAiB;EAG5BC,YAAoBC,GAAqB,EAASC,MAAqB;IAAnD,QAAG,GAAHD,GAAG;IAA2B,WAAM,GAANC,MAAM;EAAkB;EAE1EC,QAAQ,IAAU;EAEZC,kBAAkB;IAAA;IAAA;MACtB,KAAI,CAACC,QAAQ,GAAGC,SAAS;MACzB,MAAM,KAAI,CAACL,GAAG,CACXM,UAAU,CAAC,WAAW,EAAGC,GAAG,IAC3BA,GAAG,CAACC,KAAK,CAAC,eAAe,EAAE,IAAI,EAAE,KAAI,CAACC,aAAa,CAAC,CACrD,CACAC,GAAG,EAAE,CACLC,SAAS,CAAEC,YAAY,IAAI;QAC1B,IAAGA,YAAY,CAACC,IAAI,GAAG,CAAC,EAAC;UACvB,KAAI,CAACT,QAAQ,GAAGQ,YAAY,CAACE,IAAI,CAAC,CAAC,CAAC,CAACC,IAAI,EAAE;SAC5C,MAAK;UACJ,KAAI,CAACX,QAAQ,GAAG,IAAI;;MAExB,CAAC,CAAC;IAAC;EACP;EAEAY,YAAY,CAACC,IAAS;IACpB,IAAI,IAAIC,IAAI,CAACD,IAAI,CAAC,CAACE,MAAM,EAAE,KAAK,CAAC,EAAE;MACjC,IAAI,CAAClB,MAAM,CAACmB,KAAK,CAAC,4CAA4C,CAAC;MAC/D;;IAGF,IAAI,CAACjB,kBAAkB,EAAE;EAC3B;CACD;AA/BYL,iBAAiB,eAL7BD,SAAS,CAAC;EACTwB,QAAQ,EAAE,cAAc;EACxBC,WAAW,EAAE,2BAA2B;EACxCC,SAAS,EAAE,CAAC,2BAA2B;CACxC,CAAC,GACWzB,iBAAiB,CA+B7B;SA/BYA,iBAAiB","names":["Component","ScheduleComponent","constructor","afs","toastr","ngOnInit","loadWeeklySchedule","schedule","undefined","collection","ref","where","weekStartDate","get","subscribe","schedulesDoc","size","docs","data","onDateChange","date","Date","getDay","error","selector","templateUrl","styleUrls"],"sourceRoot":"","sources":["C:\\Users\\hp\\Documents\\ALX\\E-learning\\src\\app\\student\\schedule\\schedule.component.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { AngularFirestore } from '@angular/fire/compat/firestore';\nimport { ToastrService } from 'ngx-toastr';\n\n@Component({\n  selector: 'app-schedule',\n  templateUrl: './schedule.component.html',\n  styleUrls: ['./schedule.component.scss'],\n})\nexport class ScheduleComponent implements OnInit {\n  schedule: any;\n  weekStartDate: any;\n  constructor(private afs: AngularFirestore, public toastr: ToastrService) {}\n\n  ngOnInit(): void {}\n\n  async loadWeeklySchedule() {\n    this.schedule = undefined;\n    await this.afs\n      .collection('Schedules', (ref) =>\n        ref.where('weekStartDate', '==', this.weekStartDate)\n      )\n      .get()\n      .subscribe((schedulesDoc) => {\n        if(schedulesDoc.size > 0){\n          this.schedule = schedulesDoc.docs[0].data();\n        } else{\n          this.schedule = null;\n        }\n      });\n  }\n\n  onDateChange(date: any) {\n    if (new Date(date).getDay() !== 1) {\n      this.toastr.error('Please select \"Monday\" as week start date.');\n      return;\n    }\n\n    this.loadWeeklySchedule();\n  }\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}