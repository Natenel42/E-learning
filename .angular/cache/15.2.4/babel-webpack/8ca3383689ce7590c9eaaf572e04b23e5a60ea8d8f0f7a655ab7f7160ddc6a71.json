{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/hp/Documents/ALX/E-learning/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nlet AddDepartmentComponent = class AddDepartmentComponent {\n  constructor(afs, toastr, appService) {\n    this.afs = afs;\n    this.toastr = toastr;\n    this.appService = appService;\n    this.department = '';\n    this.program = '';\n    this.busy = false;\n    this.allDepartments = [];\n  }\n  ngOnInit() {\n    this.loadDepartments();\n  }\n  addDepartment() {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      yield _this.afs.collection('Departments').add({\n        name: _this.department,\n        program: _this.program\n      });\n      _this.toastr.success('Department Added!');\n      _this.department = '';\n    })();\n  }\n  loadDepartments() {\n    this.afs.collection('Departments').valueChanges().subscribe(r => {\n      this.allDepartments = [];\n      for (const departmt of r) {\n        console.log(departmt);\n        this.allDepartments.push(departmt);\n      }\n    });\n  }\n};\nAddDepartmentComponent = __decorate([Component({\n  selector: 'app-add-department',\n  templateUrl: './add-department.component.html',\n  styleUrls: ['./add-department.component.scss']\n})], AddDepartmentComponent);\nexport { AddDepartmentComponent };","map":{"version":3,"mappings":";;AAAA,SAASA,SAAS,QAAgB,eAAe;AAU1C,IAAMC,sBAAsB,GAA5B,MAAMA,sBAAsB;EAKjCC,YACUC,GAAqB,EACrBC,MAAqB,EACtBC,UAAsB;IAFrB,QAAG,GAAHF,GAAG;IACH,WAAM,GAANC,MAAM;IACP,eAAU,GAAVC,UAAU;IAPnB,eAAU,GAAQ,EAAE;IACpB,YAAO,GAAQ,EAAE;IACjB,SAAI,GAAG,KAAK;IACZ,mBAAc,GAAU,EAAE;EAKvB;EAEHC,QAAQ;IACN,IAAI,CAACC,eAAe,EAAE;EACxB;EAEMC,aAAa;IAAA;IAAA;MACjB,MAAM,KAAI,CAACL,GAAG,CAACM,UAAU,CAAC,aAAa,CAAC,CAACC,GAAG,CAAC;QAC3CC,IAAI,EAAE,KAAI,CAACC,UAAU;QACrBC,OAAO,EAAE,KAAI,CAACA;OACf,CAAC;MACF,KAAI,CAACT,MAAM,CAACU,OAAO,CAAC,mBAAmB,CAAC;MACxC,KAAI,CAACF,UAAU,GAAG,EAAE;IAAC;EACvB;EAEAL,eAAe;IACb,IAAI,CAACJ,GAAG,CACLM,UAAU,CAAC,aAAa,CAAC,CACzBM,YAAY,EAAE,CACdC,SAAS,CAAEC,CAAQ,IAAI;MACtB,IAAI,CAACC,cAAc,GAAG,EAAE;MACxB,KAAK,MAAMC,QAAQ,IAAIF,CAAC,EAAE;QACxBG,OAAO,CAACC,GAAG,CAACF,QAAQ,CAAC;QACrB,IAAI,CAACD,cAAc,CAACI,IAAI,CAACH,QAAQ,CAAC;;IAEtC,CAAC,CAAC;EACN;CACD;AApCYlB,sBAAsB,eALlCD,SAAS,CAAC;EACTuB,QAAQ,EAAE,oBAAoB;EAC9BC,WAAW,EAAE,iCAAiC;EAC9CC,SAAS,EAAE,CAAC,iCAAiC;CAC9C,CAAC,GACWxB,sBAAsB,CAoClC;SApCYA,sBAAsB","names":["Component","AddDepartmentComponent","constructor","afs","toastr","appService","ngOnInit","loadDepartments","addDepartment","collection","add","name","department","program","success","valueChanges","subscribe","r","allDepartments","departmt","console","log","push","selector","templateUrl","styleUrls"],"sourceRoot":"","sources":["C:\\Users\\hp\\Documents\\ALX\\E-learning\\src\\app\\admin\\add-department\\add-department.component.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { AngularFirestore } from '@angular/fire/compat/firestore';\nimport { ToastrService } from 'ngx-toastr';\nimport { AppService } from 'src/app/services/app.service';\n\n@Component({\n  selector: 'app-add-department',\n  templateUrl: './add-department.component.html',\n  styleUrls: ['./add-department.component.scss'],\n})\nexport class AddDepartmentComponent implements OnInit {\n  department: any = '';\n  program: any = '';\n  busy = false;\n  allDepartments: any[] = [];\n  constructor(\n    private afs: AngularFirestore,\n    private toastr: ToastrService,\n    public appService: AppService\n  ) {}\n\n  ngOnInit(): void {\n    this.loadDepartments();\n  }\n\n  async addDepartment() {\n    await this.afs.collection('Departments').add({\n      name: this.department,\n      program: this.program,\n    });\n    this.toastr.success('Department Added!');\n    this.department = '';\n  }\n\n  loadDepartments() {\n    this.afs\n      .collection('Departments')\n      .valueChanges()\n      .subscribe((r: any[]) => {\n        this.allDepartments = [];\n        for (const departmt of r) {\n          console.log(departmt);\n          this.allDepartments.push(departmt);\n        }\n      });\n  }\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}